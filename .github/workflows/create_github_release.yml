name: Create Github release

on: push

env:
  PACKAGE_NAME: utils

jobs:
  create-github-release:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout
        uses: actions/checkout@v3

      - name: Get the latest release
        uses: actions/github-script@v7
        with:
          script: |
            const releases = await github.rest.repos.listReleases({
              owner: context.repo.owner,
              repo: context.repo.repo,
              per_page: 1,
            })
            const targetReleases = releases.filter((release) => release.tag_name.startsWith("${{ env.PACKAGE_NAME }}"))

