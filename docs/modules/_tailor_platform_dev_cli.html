<!DOCTYPE html><html class="default" lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>@tailor-platform/dev-cli | frontend-packages</title><meta name="description" content="Documentation for frontend-packages"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="../assets/style.css"/><link rel="stylesheet" href="../assets/highlight.css"/><script defer src="../assets/main.js"></script><script async src="../assets/icons.js" id="tsd-icons-script"></script><script async src="../assets/search.js" id="tsd-search-script"></script><script async src="../assets/navigation.js" id="tsd-nav-script"></script></head><body><script>document.documentElement.dataset.theme = localStorage.getItem("tsd-theme") || "os";document.body.style.display="none";setTimeout(() => app?app.showPage():document.body.style.removeProperty("display"),500)</script><header class="tsd-page-toolbar"><div class="tsd-toolbar-contents container"><div class="table-cell" id="tsd-search" data-base=".."><div class="field"><label for="tsd-search-field" class="tsd-widget tsd-toolbar-icon search no-caption"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><use href="../assets/icons.svg#icon-search"></use></svg></label><input type="text" id="tsd-search-field" aria-label="Search"/></div><div class="field"><div id="tsd-toolbar-links"></div></div><ul class="results"><li class="state loading">Preparing search index...</li><li class="state failure">The search index is not available</li></ul><a href="../index.html" class="title">frontend-packages</a></div><div class="table-cell" id="tsd-widgets"><a href="#" class="tsd-widget tsd-toolbar-icon menu no-caption" data-toggle="menu" aria-label="Menu"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><use href="../assets/icons.svg#icon-menu"></use></svg></a></div></div></header><div class="container container-main"><div class="col-content"><div class="tsd-page-title"><ul class="tsd-breadcrumb"><li><a href="../index.html">frontend-packages</a></li><li><a href="_tailor_platform_dev_cli.html">@tailor-platform/dev-cli</a></li></ul><h1>Module @tailor-platform/dev-cli</h1></div><section class="tsd-panel tsd-typography"><a id="md:tailor-platformdev-cli-" class="tsd-anchor"></a><h1><a href="#md:tailor-platformdev-cli-">@tailor-platform/dev-cli <!-- omit in toc --></a></h1><p>With Tailor Platform dev CLI, you can:</p>
<ul>
<li>install required dependencies for building your own Tailor Platform apps</li>
<li>start local devlopment stack, apply your manifest on it</li>
</ul>
<a id="md:table-of-contents-" class="tsd-anchor"></a><h2><a href="#md:table-of-contents-">Table of Contents <!-- omit in toc --></a></h2><ul>
<li><a href="#md:installation">Installation</a></li>
<li><a href="#md:usage">Usage</a><ul>
<li><a href="#md:1-configuration">1. Configuration</a></li>
<li><a href="#md:2-install-dependencies">2. Install dependencies</a></li>
<li><a href="#md:3-spin-up-local-environment">3. Spin up local environment</a></li>
<li><a href="#md:4-apply-your-manifest">4. Apply your manifest</a></li>
</ul>
</li>
<li><a href="#md:use-as-npm-scripts">Use as npm scripts</a></li>
</ul>
<a id="md:installation" class="tsd-anchor"></a><h2><a href="#md:installation">Installation</a></h2><pre><code><span class="hl-5">npm</span><span class="hl-0"> </span><span class="hl-5">install</span><span class="hl-0"> -</span><span class="hl-9">D</span><span class="hl-0"> @</span><span class="hl-5">tailor</span><span class="hl-0">-</span><span class="hl-5">platform</span><span class="hl-0">/</span><span class="hl-5">dev</span><span class="hl-0">-</span><span class="hl-5">cli</span><span class="hl-0">@</span><span class="hl-5">preview</span>
</code><button>Copy</button></pre>
<p>Once after your installation, <code>tailordev</code> command will be available.</p>
<pre><code><span class="hl-5">$</span><span class="hl-0"> </span><span class="hl-5">npx</span><span class="hl-0"> </span><span class="hl-5">tailordev</span><span class="hl-0"> --</span><span class="hl-5">help</span><br/><span class="hl-14">Usage</span><span class="hl-0">: </span><span class="hl-5">tailordev</span><span class="hl-0"> [</span><span class="hl-5">options</span><span class="hl-0">] [</span><span class="hl-5">command</span><span class="hl-0">]</span><br/><br/><span class="hl-9">CLI</span><span class="hl-0"> </span><span class="hl-5">for</span><span class="hl-0"> </span><span class="hl-5">Tailor</span><span class="hl-0"> </span><span class="hl-5">Platform</span><span class="hl-0"> </span><span class="hl-5">application</span><span class="hl-0"> </span><span class="hl-5">devs</span><br/><br/><span class="hl-14">Options</span><span class="hl-0">:</span><br/><span class="hl-0">  -</span><span class="hl-9">V</span><span class="hl-0">, --</span><span class="hl-5">version</span><span class="hl-0">                </span><span class="hl-5">output</span><span class="hl-0"> </span><span class="hl-5">the</span><span class="hl-0"> </span><span class="hl-5">version</span><span class="hl-0"> </span><span class="hl-5">number</span><br/><span class="hl-0">  -</span><span class="hl-5">h</span><span class="hl-0">, --</span><span class="hl-5">help</span><span class="hl-0">                   </span><span class="hl-5">display</span><span class="hl-0"> </span><span class="hl-5">help</span><span class="hl-0"> </span><span class="hl-5">for</span><span class="hl-0"> </span><span class="hl-5">command</span><br/><br/><span class="hl-14">Commands</span><span class="hl-0">:</span><br/><span class="hl-0">  </span><span class="hl-5">reset</span><span class="hl-0"> [</span><span class="hl-5">options</span><span class="hl-0">]              </span><span class="hl-5">reset</span><span class="hl-0"> </span><span class="hl-5">local</span><span class="hl-0"> </span><span class="hl-5">environment</span><br/><span class="hl-0">  </span><span class="hl-5">start</span><span class="hl-0"> [</span><span class="hl-5">options</span><span class="hl-0">]              </span><span class="hl-5">start</span><span class="hl-0"> </span><span class="hl-5">local</span><span class="hl-0"> </span><span class="hl-5">development</span><span class="hl-0"> </span><span class="hl-5">environment</span><br/><span class="hl-0">  </span><span class="hl-5">apply</span><span class="hl-0"> [</span><span class="hl-5">options</span><span class="hl-0">]              </span><span class="hl-5">apply</span><span class="hl-0"> </span><span class="hl-5">manifest</span><span class="hl-0"> </span><span class="hl-5">onto</span><span class="hl-0"> </span><span class="hl-5">local</span><span class="hl-0"> </span><span class="hl-5">environment</span><br/><span class="hl-0">  </span><span class="hl-4">import</span><span class="hl-0"> [</span><span class="hl-5">options</span><span class="hl-0">] &lt;</span><span class="hl-5">paths</span><span class="hl-0">...&gt;  </span><span class="hl-5">import</span><span class="hl-0"> </span><span class="hl-5">seed</span><span class="hl-0"> </span><span class="hl-5">manifest</span><span class="hl-0"> (</span><span class="hl-5">this</span><span class="hl-0"> </span><span class="hl-5">needs</span><span class="hl-0"> </span><span class="hl-5">minitailor</span><span class="hl-0"> </span><span class="hl-5">running</span><span class="hl-0"> </span><span class="hl-5">by</span><span class="hl-0"> </span><span class="hl-2">`start`</span><span class="hl-0"> </span><span class="hl-5">command</span><span class="hl-0">)</span><br/><span class="hl-0">  </span><span class="hl-5">install</span><span class="hl-0">:</span><span class="hl-5">deps</span><span class="hl-0"> [</span><span class="hl-5">options</span><span class="hl-0">]       </span><span class="hl-5">install</span><span class="hl-0"> </span><span class="hl-5">required</span><span class="hl-0"> </span><span class="hl-5">dependencies</span><span class="hl-0"> (</span><span class="hl-5">tailorctl</span><span class="hl-0">, </span><span class="hl-5">cuelang</span><span class="hl-0">)</span><br/><span class="hl-0">  </span><span class="hl-5">uninstall</span><span class="hl-0">:</span><span class="hl-5">deps</span><span class="hl-0">               </span><span class="hl-5">uninstall</span><span class="hl-0"> </span><span class="hl-5">dependencies</span><br/><span class="hl-0">  </span><span class="hl-5">help</span><span class="hl-0"> [</span><span class="hl-5">command</span><span class="hl-0">]               </span><span class="hl-5">display</span><span class="hl-0"> </span><span class="hl-5">help</span><span class="hl-0"> </span><span class="hl-5">for</span><span class="hl-0"> </span><span class="hl-5">command</span>
</code><button>Copy</button></pre>
<a id="md:usage" class="tsd-anchor"></a><h2><a href="#md:usage">Usage</a></h2><p><code>tailordev</code> CLI expects the following directory structure for example:</p>
<pre><code><span class="hl-5">yourapp</span><br/><span class="hl-0">├── </span><span class="hl-5">pacakge</span><span class="hl-0">.</span><span class="hl-5">json</span><br/><span class="hl-0">├── .</span><span class="hl-5">tailordevenv</span><span class="hl-0">.</span><span class="hl-5">json</span><br/><span class="hl-0">└── </span><span class="hl-5">manifest</span><br/><span class="hl-0">    └── </span><span class="hl-5">config</span><br/><span class="hl-0">        └── </span><span class="hl-5">template</span><br/><span class="hl-0">            ├── </span><span class="hl-5">gateway</span><span class="hl-0">.</span><span class="hl-5">cue</span><br/><span class="hl-0">            ├── </span><span class="hl-5">pipelines</span><span class="hl-0">.</span><span class="hl-5">cue</span><br/><span class="hl-0">            ├── </span><span class="hl-5">stateflow</span><span class="hl-0">.</span><span class="hl-5">cue</span><br/><span class="hl-0">            └── </span><span class="hl-5">tailordb</span><span class="hl-0">.</span><span class="hl-5">cue</span>
</code><button>Copy</button></pre>
<a id="md:1-configuration" class="tsd-anchor"></a><h3><a href="#md:1-configuration">1. Configuration</a></h3><p>In this case you will need to have <code>.tailordevenv.json</code> with the following content:</p>
<pre><code class="language-json"><span class="hl-0">{</span><br/><span class="hl-0">  </span><span class="hl-8">// The project name</span><br/><span class="hl-0">  </span><span class="hl-1">&quot;name&quot;</span><span class="hl-0">: </span><span class="hl-2">&quot;stock-api&quot;</span><span class="hl-0">,</span><br/><br/><span class="hl-0">  </span><span class="hl-8">// The directory path where contains the files specified by the following `target` array</span><br/><span class="hl-0">  </span><span class="hl-1">&quot;manifest&quot;</span><span class="hl-0">: </span><span class="hl-2">&quot;manifest/config/template&quot;</span><span class="hl-0">,</span><br/><br/><span class="hl-0">  </span><span class="hl-8">// File names to run cuelang on and apply</span><br/><span class="hl-0">  </span><span class="hl-1">&quot;target&quot;</span><span class="hl-0">: [</span><span class="hl-2">&quot;gateway.cue&quot;</span><span class="hl-0">, </span><span class="hl-2">&quot;pipelines.cue&quot;</span><span class="hl-0">, </span><span class="hl-2">&quot;tailordb.cue&quot;</span><span class="hl-0">, </span><span class="hl-2">&quot;stateflow.cue&quot;</span><span class="hl-0">]</span><br/><span class="hl-0">}</span>
</code><button>Copy</button></pre>
<p>This is the initial point to start out.</p>
<a id="md:2-install-dependencies" class="tsd-anchor"></a><h3><a href="#md:2-install-dependencies">2. Install dependencies</a></h3><p>Run <code>npx tailordev install:deps</code> will install required binaries on your local. Those will be placed under <code>~/.local/share/tailordev</code>.</p>
<p>It is recommended to run this command as <code>postinstall</code> in your package.json. You can remove those downloaded files by <code>npx tailordev uninstall:deps</code>.</p>
<a id="md:3-spin-up-local-environment" class="tsd-anchor"></a><h3><a href="#md:3-spin-up-local-environment">3. Spin up local environment</a></h3><p>Run <code>npx tailordev start</code> to start your local development envrionment. This needs docker-compose currently under the hood, so make sure it is installed and up on your machine.</p>
<p><code>start</code> command generates <code>.tailordev</code> directory which has files generated by tailordev CLI. Those files will be generated every time in starting so can be ignored from your VCS.</p>
<p>You can also use <code>--only-file</code> option to generate compose.yml in <code>.tailordev</code> directory. This options is useful if you would like to run docker-compose manually.</p>
<a id="md:4-apply-your-manifest" class="tsd-anchor"></a><h3><a href="#md:4-apply-your-manifest">4. Apply your manifest</a></h3><p>Run <code>npx tailordev apply</code> to apply your application manifest onto your local dev environment next.</p>
<p>This also runs Cuelang evaluation (same as <code>cue eval</code>), and the evaluated files will be generated in <code>.tailordev/generated</code> with the same directory structure as the one you specified in <code>manifest</code> field in <code>.tailordevrc.json</code>.</p>
<p><code>apply</code> command supports <code>--env &lt;value&gt;</code> option to switch your manifest in evaluation. This internally works as <a href="https://cuetorials.com/deep-dives/attributes/#cues-attributes">attributes in Cuelang</a>, so you will be able to switch values in manifest files with <code>@if(&lt;value&gt;)</code>.</p>
<p>If you would just like to evaluate and generate manifest under <code>.tailordev/generated</code>, you can use <code>--only-eval</code> option that skips applying manifests onto local development environment.</p>
<a id="md:use-as-npm-scripts" class="tsd-anchor"></a><h2><a href="#md:use-as-npm-scripts">Use as npm scripts</a></h2><p>As tailordev CLI is built with Node.js, it will be good fit to have it in your package.json scripts as well as other tools like Next.js.</p>
<pre><code class="language-json"><span class="hl-0">{</span><br/><span class="hl-0">  </span><span class="hl-1">&quot;name&quot;</span><span class="hl-0">: </span><span class="hl-2">&quot;yourapp&quot;</span><span class="hl-0">,</span><br/><span class="hl-0">  </span><span class="hl-1">&quot;private&quot;</span><span class="hl-0">: </span><span class="hl-7">true</span><span class="hl-0">,</span><br/><span class="hl-0">  </span><span class="hl-1">&quot;scripts&quot;</span><span class="hl-0">: {</span><br/><span class="hl-0">    </span><span class="hl-1">&quot;dev&quot;</span><span class="hl-0">: </span><span class="hl-2">&quot;next dev&quot;</span><span class="hl-0">,</span><br/><span class="hl-0">    </span><span class="hl-1">&quot;build&quot;</span><span class="hl-0">: </span><span class="hl-2">&quot;next build&quot;</span><span class="hl-0">,</span><br/><span class="hl-0">    </span><span class="hl-1">&quot;start&quot;</span><span class="hl-0">: </span><span class="hl-2">&quot;next start&quot;</span><span class="hl-0">,</span><br/><span class="hl-0">    </span><span class="hl-1">&quot;lint&quot;</span><span class="hl-0">: </span><span class="hl-2">&quot;next lint&quot;</span><span class="hl-0">,</span><br/><span class="hl-0">    </span><span class="hl-1">&quot;start:backend&quot;</span><span class="hl-0">: </span><span class="hl-2">&quot;tailordev start&quot;</span><span class="hl-0">,</span><br/><span class="hl-0">    </span><span class="hl-1">&quot;apply&quot;</span><span class="hl-0">: </span><span class="hl-2">&quot;tailordev apply&quot;</span><span class="hl-0">,</span><br/><span class="hl-0">    </span><span class="hl-1">&quot;reset&quot;</span><span class="hl-0">: </span><span class="hl-2">&quot;tailordev reset&quot;</span><span class="hl-0">,</span><br/><span class="hl-0">    </span><span class="hl-1">&quot;postinstall&quot;</span><span class="hl-0">: </span><span class="hl-2">&quot;tailordev install:deps&quot;</span><br/><span class="hl-0">  }</span><br/><span class="hl-0">}</span>
</code><button>Copy</button></pre>
</section></div><div class="col-sidebar"><div class="page-menu"><div class="tsd-navigation settings"><details class="tsd-index-accordion"><summary class="tsd-accordion-summary"><h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><use href="../assets/icons.svg#icon-chevronDown"></use></svg>Settings</h3></summary><div class="tsd-accordion-details"><div class="tsd-filter-visibility"><h4 class="uppercase">Member Visibility</h4><form><ul id="tsd-filter-options"><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-protected" name="protected"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Protected</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-private" name="private"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Private</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-inherited" name="inherited" checked/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Inherited</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-external" name="external"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>External</span></label></li></ul></form></div><div class="tsd-theme-toggle"><h4 class="uppercase">Theme</h4><select id="tsd-theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></div></div></details></div><details open class="tsd-index-accordion tsd-page-navigation"><summary class="tsd-accordion-summary"><h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><use href="../assets/icons.svg#icon-chevronDown"></use></svg>On This Page</h3></summary><div class="tsd-accordion-details"><a href="#md:tailor-platformdev-cli-"><span>@tailor-<wbr/>platform/dev-<wbr/>cli </span></a><ul><li><a href="#md:table-of-contents-"><span>Table of <wbr/>Contents </span></a></li><li><a href="#md:installation"><span>Installation</span></a></li><li><a href="#md:usage"><span>Usage</span></a></li><li><ul><li><a href="#md:1-configuration"><span>1. <wbr/>Configuration</span></a></li><li><a href="#md:2-install-dependencies"><span>2. <wbr/>Install dependencies</span></a></li><li><a href="#md:3-spin-up-local-environment"><span>3. <wbr/>Spin up local environment</span></a></li><li><a href="#md:4-apply-your-manifest"><span>4. <wbr/>Apply your manifest</span></a></li></ul></li><li><a href="#md:use-as-npm-scripts"><span>Use as npm scripts</span></a></li></ul></div></details></div><div class="site-menu"><nav class="tsd-navigation"><a href="../index.html"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-1"></use></svg><span>frontend-packages</span></a><ul class="tsd-small-nested-navigation" id="tsd-nav-container" data-base=".."><li>Loading...</li></ul></nav></div></div></div><div class="tsd-generator"><p>Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></div><div class="overlay"></div></body></html>